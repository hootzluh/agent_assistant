<!DOCTYPE html>
<html lang="en-US">

<head>
  <!-- Meta Tags -->
  <!-- <meta name="description" content="This is the description of the page"> -->
  <!-- <meta name="author" content="John Doe"> -->
  <!-- <meta name="keywords" content="HTML, SEO, Web Development"> -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Page Title -->
  <title>NATO Phonetics Tool - AGENT★ASSISTANT</title>

  <!-- Fonts, Icons and Stylesheets -->
  <link href="https://fonts.cdnfonts.com/css/univers" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="../styles/nato.css">
  <link rel="stylesheet" href="../styles/navbar.css">

  <!-- Scripts -->
  <script src="../script/script.js" defer></script>
  <script src="../script/nato.js" defer></script>

  <!-- Authentication Check -->
  <script>
    (function checkAuthentication() {
      const isAuthenticated = localStorage.getItem("authenticated") === "true";
      const authTime = parseInt(localStorage.getItem("authTime"), 10);
      const sessionDuration = 2 * 60 * 60 * 1000; // 2 hours in milliseconds

      if (!isAuthenticated || !authTime || Date.now() - authTime > sessionDuration) {
        localStorage.removeItem("authenticated");
        localStorage.removeItem("authTime");
        window.location.href = "../pages/form.html"; // Redirect to login page
      }
    })();
  </script>
  <script>
    setTimeout(() => {
      window.location.reload();
    }, 240000);
  </script>
</head>

<body>
  <div id="navbar" class="navbar">
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>

    <a href="../../index.html" class="home-link">
      <i class="fa fa-home"></i>
    </a>

    <div class="titles">
      <h2>A G E N T ★ A S S I S T A N T</h2>
    </div>

    <div id="navlinks" class="navlinks">
      <div class="grid-container">

        <!-- Get Assistance Tool -->
        <a href="../pages/help.html" class="active-link div1" target="_blank"
          title="Get assistance with a caller's issue, requesting an escalation or if one of your tools aren't working and it's causing you to miss scheduled shifts.">Get
          Assistance Tool</a>

        <!-- FAQ Search Tool -->
        <a href="../pages/search.html" class="active-link div2" target="_blank"
          title="Quickly search the FAQs to assist with answering caller's questions.">FAQ
          Search
          Tool</a>

        <!-- Call Flow Guide Tool -->
        <a href="#" class="disabled div3" title="A walk-through guide to ensure you ace the call flow.">Call Flow
          Guide
          Tool</a>

        <!-- Useful Links -->
        <a href="#" class="disabled div4"
          title="Find links to useful job aids, work tools and other resources here.">Useful Links<br>
          !!DELAYED INDEFINITELY!!</a>

        <!-- Blank -->
        <a href="#" class="disabled div5" title="Click here for assistance with a caller's issue or escalations."></a>

        <!-- NATO Phonetics Tool -->
        <a href="#" class="current div6" title="A tool that helps with spelling using NATO Phonetics.">NATO Phonetics
          Tool</a>

        <!-- Walkthroughs Tool -->
        <a href="#" class="disabled div7"
          title="Coming Soon! - A visual aid tool for step-by-step guidance.">Walkthroughs
          Tool<br>!!DELAYED INDEFINITELY!!</a>

        <!-- Blank -->
        <a href="#" class="disabled div8" title="Click here for assistance with a caller's issue or escalations."></a>


        <!-- Blank -->
        <a href="#" class="disabled div9" title="Click here for assistance with a caller's issue or escalations."></a>




      </div>
    </div>
  </div>
  <!-- <marquee>test</marquee> -->
  <div class="header">
    <h1>NATO Phonetics Tool</h1>
    <h4>Enter a name, email address, or phone number to see how to verbally repeat it using NATO Phonetics.<br>
      This helps to ensure accurate spelling for important information that is communicated over the
      phone.
    </h4>
    <h5>(For privacy reasons, this page will automatically refresh every five minutes.)</h5>
    <div class="toolContainer">
      <input type="text" id="input-field" placeholder="Type a name, phone number, or email address">
    </div>
    <div id="output-container">
      <div id="output-text"></div>
    </div>
  </div>

  <footer>
    <div class="footer-section footer-left">v.1.5.0</div>
    <div class="footer-section footer-center">
      Made with ❤️ in Alabama by Justin.
    </div>
    <div class="footer-section footer-right">
      Need custom software tools built?
      <a href="mailto:justin@hutzlertech.com" class="footer-link">Let's Talk.</a>
    </div>
  </footer>

  <!-- <script>
    const phoneticAlphabet = {
      A: "Alpha", B: "Bravo", C: "Charlie", D: "Delta", E: "Echo",
      F: "Foxtrot", G: "Golf", H: "Hotel", I: "India", J: "Juliet",
      K: "Kilo", L: "Lima", M: "Mike", N: "November", O: "Oscar",
      P: "Papa", Q: "Quebec", R: "Romeo", S: "Sierra", T: "Tango",
      U: "Uniform", V: "Victor", W: "Whiskey", X: "X-ray", Y: "Yankee", Z: "Zulu",
      1: "One", 2: "Two", 3: "Three", 4: "Four", 5: "Five",
      6: "Six", 7: "Seven", 8: "Eight", 9: "Nine", 0: "Zero"
    };

    const inputField = document.getElementById('input-field');
    const outputContainer = document.getElementById('output-container');
    const outputText = document.getElementById('output-text');

    inputField.addEventListener('input', () => {
      const input = inputField.value.trim();
      if (!input) {
        outputContainer.style.visibility = 'hidden';
        return;
      }

      const hasAt = input.includes('@');
      const hasThreeNumbers = /\d{7}/.test(input);
      const hasSpace = input.includes(' ');

      if (hasAt) {
        outputText.innerHTML = formatEmail(input);
      } else if (hasThreeNumbers) {
        outputText.innerHTML = formatPhoneNumber(input);
      } else if (hasSpace) {
        const words = input.split(/\s+/);
        outputText.innerHTML = formatNames(words);
      } else {
        outputContainer.style.visibility = 'hidden';
        return;
      }

      outputContainer.style.visibility = 'visible';
    });

    function getPhonetic(char) {
      const specialCharacters = {
        '_': 'Underscore (_)',
        '.': 'Dot (.)',
        '$': 'Dollar Sign ($)',
        '@': 'At (@)',
        '-': 'Dash (-)',
        '+': 'Plus Sign (+)',
        '#': 'Hash (#)',
        '&': 'Ampersand (&)',
        '%': 'Percent (%)',
        '*': 'Asterisk (*)',
        '/': 'Slash (/)',
        '\\': 'Backslash (\\)'
      };

      // Return the phonetic alphabet or the special character name
      return specialCharacters[char] || phoneticAlphabet[char.toUpperCase()] || char;
    }

    function formatNames(words) {
      let result = `
                <div class="static-text">Just to verify, that was...</div>
                <div class="name-columns">
            `;

      words.forEach(word => {
        result += `
                    <div class="name-column">
                        <div class="static-text"><span class="dynamic-text">${word}</span>, spelled...</div>
                `;
        for (const char of word) {
          result += `
                        <div class="static-text"><span class="dynamic-text">${char.toUpperCase()}</span> as in <span class="dynamic-text">${getPhonetic(char)}</span></div>
                    `;
        }
        result += `</div>`; // Close name-column div
      });

      result += `</div>
                <div class="static-text">Is that correct?</div>`;
      return result;
    }

    function formatPhoneNumber(number) {
      const areaCode = number.slice(0, 3);
      const middle = number.slice(3, 6);
      const last = number.slice(6);
      let result = `
                <div class="static-text">To verify that phone number, I have area code</div>
                <div class="static-text">
                    ${areaCode.split('').map(d => `<span class="dynamic-text">${getPhonetic(d)}</span>`).join(', ')}
                </div>
                <div class="static-text">then</div>
                <div class="static-text">
                    ${middle.split('').map(d => `<span class="dynamic-text">${getPhonetic(d)}</span>`).join(', ')}
                </div>
                <div class="static-text">and last four is</div>
                <div class="static-text">
                    ${last.split('').map(d => `<span class="dynamic-text">${getPhonetic(d)}</span>`).join(', ')}
                </div>
                <div class="static-text">Is that correct?</div>
            `;
      return result;
    }

    function formatEmail(email) {
      const [local, domain] = email.split('@');
      let result = `
        <div class="static-text">To verify I have that email typed correctly,</div>
        <div class="static-text">that was <span class="dynamic-text">${local}</span>@<span class="dynamic-text">${domain}</span>, spelled...</div>
    `;

      // Format the local part of the email
      result += local.split('').map(char => {
        if (/\d/.test(char)) {
          return `<div class="static-text"><span class="dynamic-text">${getPhonetic(char)}</span></div>`;
        } else if (isSpecialCharacter(char)) {
          return `<div class="static-text"><span class="dynamic-text">${getPhonetic(char)}</span></div>`;
        }
        return `<div class="static-text"><span class="dynamic-text">${char.toUpperCase()}</span> as in <span class="dynamic-text">${getPhonetic(char)}</span></div>`;
      }).join('');

      // Append the domain part
      result += `
        <div class="static-text">@<span class="dynamic-text">${domain}</span>, is that correct?</div>
    `;

      return result;
    }

    function isSpecialCharacter(char) {
      const specialCharacters = '_.$@-+#&%*/\\';
      return specialCharacters.includes(char);
    }

    function getPhonetic(char) {
      const specialCharacters = {
        '_': 'Underscore (_)',
        '.': 'Dot (.)',
        '$': 'Dollar Sign ($)',
        '@': 'At (@)',
        '-': 'Dash (-)',
        '+': 'Plus Sign (+)',
        '#': 'Hash (#)',
        '&': 'Ampersand (&)',
        '%': 'Percent (%)',
        '*': 'Asterisk (*)',
        '/': 'Slash (/)',
        '\\': 'Backslash (\\)'
      };
    }; -->
  // Return the phonetic alphabet or the special chara
  </script>
</body>

</html>
